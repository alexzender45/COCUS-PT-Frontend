{"ast":null,"code":"import _defineProperty from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/alex/programming/COCUS-PT-Frontend/src/components/notes/Create.tsx\";\nimport * as React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nvar Create =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Create, _React$Component);\n\n  function Create(props) {\n    var _this;\n\n    _classCallCheck(this, Create);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Create).call(this, props));\n\n    _this.processFormSubmission = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      var generatedCode = JSON.stringify(Math.floor(100000 + Math.random() * 100000));\n      var formData = {\n        title: _this.state.title,\n        description: _this.state.description,\n        id: generatedCode,\n        created_at: Date.now() // encrypt formdata\n\n      };\n      var encryptedData = btoa(JSON.stringify(formData));\n\n      _this.setState({\n        submitSuccess: true,\n        values: [].concat(_toConsumableArray(_this.state.values), [formData]),\n        loading: false\n      });\n\n      localStorage.setItem(generatedCode, encryptedData);\n      setTimeout(function () {\n        _this.props.history.push('/');\n      }, 1500);\n    };\n\n    _this.handleInputChanges = function (e) {\n      e.preventDefault();\n\n      _this.setState(_defineProperty({}, e.currentTarget.name, e.currentTarget.value));\n    };\n\n    _this.state = {\n      title: '',\n      description: '',\n      id: '',\n      created_at: '',\n      values: [],\n      loading: false,\n      submitSuccess: false\n    };\n    return _this;\n  }\n\n  _createClass(Create, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          submitSuccess = _this$state.submitSuccess,\n          loading = _this$state.loading;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 form-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" Create Note \"), !submitSuccess && React.createElement(\"div\", {\n        className: \"alert alert-info\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Fill the form below to create a new note\"), submitSuccess && React.createElement(\"div\", {\n        className: \"alert alert-info\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"The form was successfully submitted!\"), React.createElement(\"form\", {\n        id: \"create-post-form\",\n        onSubmit: this.processFormSubmission,\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \" Title \"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        onChange: function onChange(e) {\n          return _this2.handleInputChanges(e);\n        },\n        name: \"title\",\n        className: \"form-control\",\n        placeholder: \"Enter note title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \" Description \"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"description\",\n        onChange: function onChange(e) {\n          return _this2.handleInputChanges(e);\n        },\n        name: \"description\",\n        className: \"form-control\",\n        placeholder: \"Enter Description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group col-md-4 pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Create Note\"), loading && React.createElement(\"span\", {\n        className: \"fa fa-circle-o-notch fa-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Create;\n}(React.Component);\n\nexport default withRouter(Create);","map":{"version":3,"sources":["/Users/alex/programming/COCUS-PT-Frontend/src/components/notes/Create.tsx"],"names":["React","withRouter","Create","props","processFormSubmission","e","preventDefault","setState","loading","generatedCode","JSON","stringify","Math","floor","random","formData","title","state","description","id","created_at","Date","now","encryptedData","btoa","submitSuccess","values","localStorage","setItem","setTimeout","history","push","handleInputChanges","currentTarget","name","value","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\n\n\nexport interface IValues {\n    title: string,\n    description: string,\n    id: string,\n}\n\nexport interface IFormState {\n    [key: string]: any;\n    values: IValues[];\n    submitSuccess: boolean;\n    loading: boolean;\n}\n\nclass Create extends React.Component<RouteComponentProps, IFormState> {\n    constructor(props: RouteComponentProps) {\n        super(props);\n        this.state = {\n            title: '',\n            description: '',\n            id: '',\n            created_at: '',\n            values: [],\n            loading: false,\n            submitSuccess: false,\n        }\n    }\n\n    private processFormSubmission = (e: React.FormEvent<HTMLFormElement>): void => {\n        e.preventDefault();\n        this.setState({ loading: true });\n\n        const generatedCode = JSON.stringify(Math.floor(100000 + Math.random() * 100000));\n        const formData = {\n            title: this.state.title,\n            description: this.state.description,\n            id: generatedCode,\n            created_at: Date.now()\n        }\n        // encrypt formdata\n        const encryptedData = btoa(JSON.stringify(formData));\n        this.setState({ submitSuccess: true, values: [...this.state.values, formData], loading: false });\n\n        localStorage.setItem(generatedCode, encryptedData);\n        setTimeout(() => {\n                     this.props.history.push('/');\n        }, 1500)\n    }\n\n    private handleInputChanges = (e: React.FormEvent<HTMLInputElement>) => {\n        e.preventDefault();\n        this.setState({\n            [e.currentTarget.name]: e.currentTarget.value,\n        })\n    }\n\n    public render() {\n        const { submitSuccess, loading } = this.state;\n        return (\n            <div>\n                <div className={\"col-md-12 form-wrapper\"}>\n                    <h2> Create Note </h2>\n                    {!submitSuccess && (\n                        <div className=\"alert alert-info\" role=\"alert\">\n                            Fill the form below to create a new note\n                    </div>\n                    )}\n\n                    {submitSuccess && (\n                        <div className=\"alert alert-info\" role=\"alert\">\n                            The form was successfully submitted!\n                            </div>\n                    )}\n\n                    <form id={\"create-post-form\"} onSubmit={this.processFormSubmission} noValidate={true}>\n                        <div className=\"form-group col-md-12\">\n                            <label htmlFor=\"title\"> Title </label>\n                            <input type=\"text\" id=\"title\" onChange={(e) => this.handleInputChanges(e)} name=\"title\" className=\"form-control\" placeholder=\"Enter note title\" />\n                        </div>\n                        <div className=\"form-group col-md-12\">\n                            <label htmlFor=\"description\"> Description </label>\n                            <input type=\"text\" id=\"description\" onChange={(e) => this.handleInputChanges(e)} name=\"description\" className=\"form-control\" placeholder=\"Enter Description\" />\n                        </div>\n\n                        <div className=\"form-group col-md-4 pull-right\">\n                            <button className=\"btn btn-success\" type=\"submit\">\n                                Create Note\n              </button>\n                            {loading &&\n                                <span className=\"fa fa-circle-o-notch fa-spin\" />\n                            }\n                        </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(Create)\n"]},"metadata":{},"sourceType":"module"}