{"ast":null,"code":"import _classCallCheck from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alex/programming/COCUS-PT-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/alex/programming/COCUS-PT-Frontend/src/components/Home.tsx\";\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport jsPDF from 'jspdf';\n\nvar Home =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.downloadPDF = function (id) {\n      var data = localStorage.getItem(id.toString());\n\n      if (data) {\n        var decrypt = atob(data);\n\n        if (decrypt) {\n          var note = JSON.parse(decrypt);\n          var doc = new jsPDF();\n          doc.text(note.title, 10, 10);\n          doc.text(note.description, 10, 20);\n          doc.save('note.pdf');\n        }\n      }\n    };\n\n    _this.exportNote = function (id) {\n      var data = localStorage.getItem(id.toString());\n\n      if (data) {\n        var decrypt = atob(data);\n\n        if (decrypt) {\n          var note = JSON.parse(decrypt);\n          var element = document.createElement(\"a\");\n          var file = new Blob([JSON.stringify(note)], {\n            type: 'application/json'\n          });\n          element.href = URL.createObjectURL(file);\n          element.download = \"note.json\";\n          document.body.appendChild(element); // Required for this to work in FireFox\n\n          element.click();\n        }\n      }\n    };\n\n    _this.exportAllNotes = function () {\n      var data = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var key = localStorage.key(i);\n\n        if (key) {\n          // deencrypt item\n          var decrypt = localStorage.getItem(key);\n\n          if (decrypt) {\n            var convertToJson = atob(decrypt);\n            data.push(JSON.parse(convertToJson));\n          }\n        }\n      }\n\n      var element = document.createElement(\"a\");\n      var file = new Blob([JSON.stringify(data)], {\n        type: 'application/json'\n      });\n      element.href = URL.createObjectURL(file);\n      element.download = \"notes.json\";\n      document.body.appendChild(element); // Required for this to work in FireFox\n\n      element.click();\n    };\n\n    _this.searchNotes = function (e) {\n      var data = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var key = localStorage.key(i);\n\n        if (key) {\n          // deencrypt item\n          var decrypt = localStorage.getItem(key);\n\n          if (decrypt) {\n            var convertToJson = atob(decrypt);\n            data.push(JSON.parse(convertToJson));\n          }\n        }\n      }\n\n      var search = e.currentTarget.value;\n      var filteredNotes = data.filter(function (note) {\n        return note.title.toLowerCase().includes(search.toLowerCase());\n      });\n\n      _this.setState({\n        notes: filteredNotes\n      });\n    };\n\n    _this.sortNotes = function (e) {\n      var data = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var key = localStorage.key(i);\n\n        if (key) {\n          // deencrypt item\n          var decrypt = localStorage.getItem(key);\n\n          if (decrypt) {\n            var convertToJson = atob(decrypt);\n            data.push(JSON.parse(convertToJson));\n          }\n        }\n      }\n\n      var sort = e.currentTarget.value;\n\n      if (sort === 'title') {\n        var sortedNotes = data.sort(function (a, b) {\n          return a.title.localeCompare(b.title);\n        });\n\n        _this.setState({\n          notes: sortedNotes\n        });\n      }\n    };\n\n    _this.filterNotes = function (e) {\n      var data = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var key = localStorage.key(i);\n\n        if (key) {\n          // deencrypt item\n          var decrypt = localStorage.getItem(key);\n\n          if (decrypt) {\n            var convertToJson = atob(decrypt);\n            data.push(JSON.parse(convertToJson));\n          }\n        }\n      }\n\n      var filter = e.currentTarget.value;\n\n      if (filter === 'title') {\n        var filteredNotes = data.filter(function (note) {\n          return note.title;\n        });\n\n        _this.setState({\n          notes: filteredNotes\n        });\n      } else if (filter === 'description') {\n        var _filteredNotes = data.filter(function (note) {\n          return note.description;\n        });\n\n        _this.setState({\n          notes: _filteredNotes\n        });\n      }\n    };\n\n    _this.printNote = function (id) {\n      var data = localStorage.getItem(id.toString());\n\n      if (data) {\n        var decrypt = atob(data);\n\n        if (decrypt) {\n          var note = JSON.parse(decrypt);\n          var doc = new jsPDF();\n          doc.text(note.title, 10, 10);\n          doc.text(note.description, 10, 20);\n          doc.autoPrint();\n          doc.output('dataurlnewwindow');\n        }\n      }\n    };\n\n    _this.state = {\n      notes: []\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var key = localStorage.key(i);\n\n        if (key) {\n          // deencrypt item\n          var decrypt = localStorage.getItem(key);\n\n          if (decrypt) {\n            var convertToJson = atob(decrypt);\n            data.push(JSON.parse(convertToJson));\n          }\n        }\n      }\n\n      this.setState({\n        notes: data\n      });\n    }\n  }, {\n    key: \"deleteNote\",\n    value: function deleteNote(id) {\n      localStorage.removeItem(id.toString());\n      var index = this.state.notes.findIndex(function (note) {\n        return note.id === id;\n      });\n      this.state.notes.splice(index, 1);\n      this.props.history.push('/');\n    } // convert to pdf and download\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var notes = this.state.notes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, notes.length === 0 && React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"No note found at the moment\")), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Search notes\",\n        onChange: this.searchNotes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"form-control\",\n        onChange: this.sortNotes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Sort by\"), React.createElement(\"option\", {\n        value: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Title\")))), React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"form-control\",\n        onChange: this.filterNotes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Filter by\"), React.createElement(\"option\", {\n        value: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"option\", {\n        value: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Description\")))), React.createElement(\"table\", {\n        className: \"table table-bordered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-sm btn-outline-secondary\",\n        onClick: function onClick() {\n          return _this2.exportAllNotes();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Export All Note\"), React.createElement(\"thead\", {\n        className: \"thead-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Tile\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Created At\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, notes && notes.map(function (note) {\n        return React.createElement(\"tr\", {\n          key: note.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, note.title), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, note.description), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, note.created_at), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"btn-group\",\n          style: {\n            marginBottom: \"20px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"edit/\".concat(note.id),\n          className: \"btn btn-sm btn-outline-secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, \"Edit Note \"), React.createElement(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          onClick: function onClick() {\n            return _this2.deleteNote(note.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, \"Delete Note\"), React.createElement(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          onClick: function onClick() {\n            return _this2.downloadPDF(note.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"Download Note\"), React.createElement(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          onClick: function onClick() {\n            return _this2.exportNote(note.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, \"Export Note\"), React.createElement(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary\",\n          onClick: function onClick() {\n            return _this2.printNote(note.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, \"Print Note\")))));\n      }))))));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport { Home as default };","map":{"version":3,"sources":["/Users/alex/programming/COCUS-PT-Frontend/src/components/Home.tsx"],"names":["React","Link","jsPDF","Home","props","downloadPDF","id","data","localStorage","getItem","toString","decrypt","atob","note","JSON","parse","doc","text","title","description","save","exportNote","element","document","createElement","file","Blob","stringify","type","href","URL","createObjectURL","download","body","appendChild","click","exportAllNotes","i","length","key","convertToJson","push","searchNotes","e","search","currentTarget","value","filteredNotes","filter","toLowerCase","includes","setState","notes","sortNotes","sort","sortedNotes","a","b","localeCompare","filterNotes","printNote","autoPrint","output","state","removeItem","index","findIndex","splice","history","map","created_at","marginBottom","deleteNote","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport axios from 'axios';\nimport jsPDF from 'jspdf';\n\n\ninterface IState {\n    notes: any[];\n}\n\nexport default class Home extends React.Component<RouteComponentProps, IState> {\n    constructor(props: RouteComponentProps) {\n        super(props);\n        this.state = { notes: [] }\n    }\n\n    public componentDidMount(): void {\n        const data = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            let key = localStorage.key(i)\n            if(key){\n                // deencrypt item\n                let decrypt = localStorage.getItem(key)\n                if(decrypt){\n                const convertToJson = atob(decrypt);\n                data.push(JSON.parse(convertToJson));\n                }\n        }\n        }\n        this.setState({ notes: data })\n    }\n\n    public deleteNote(id: number) {\n        localStorage.removeItem(id.toString());\n        const index = this.state.notes.findIndex(note => note.id === id);\n        this.state.notes.splice(index, 1);\n        this.props.history.push('/')\n    }\n\n    // convert to pdf and download\n    public downloadPDF = (id: number) => {\n        const data = localStorage.getItem(id.toString());\n        if (data) {\n        const decrypt = atob(data);\n        if (decrypt) {\n            const note = JSON.parse(decrypt);\n            const doc = new jsPDF();\n            doc.text(note.title, 10, 10);\n            doc.text(note.description, 10, 20);\n            doc.save('note.pdf');\n        }\n    }\n    }\n\n    // export note in json\n    public exportNote = (id: number) => {\n        const data = localStorage.getItem(id.toString());\n        if (data) {\n        const decrypt = atob(data);\n        if (decrypt) {\n            const note = JSON.parse(decrypt);\n            const element = document.createElement(\"a\");\n            const file = new Blob([JSON.stringify(note)], {type: 'application/json'});\n            element.href = URL.createObjectURL(file);\n            element.download = \"note.json\";\n            document.body.appendChild(element); // Required for this to work in FireFox\n            element.click();\n        }\n    }\n    }\n\n    // export all notes\n    public exportAllNotes = () => {\n        const data = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            let key = localStorage.key(i)\n            if(key){\n                // deencrypt item\n                let decrypt = localStorage.getItem(key)\n                if(decrypt){\n                const convertToJson = atob(decrypt);\n                data.push(JSON.parse(convertToJson));\n                }\n        }\n        }\n        const element = document.createElement(\"a\");\n        const file = new Blob([JSON.stringify(data)], {type: 'application/json'});\n        element.href = URL.createObjectURL(file);\n        element.download = \"notes.json\";\n        document.body.appendChild(element); // Required for this to work in FireFox\n        element.click();\n    }\n// search notes in localStorage\n    public searchNotes = (e: React.FormEvent<HTMLInputElement>) => {\n        const data = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            let key = localStorage.key(i)\n            if(key){\n                // deencrypt item\n                let decrypt = localStorage.getItem(key)\n                if(decrypt){\n                const convertToJson = atob(decrypt);\n                data.push(JSON.parse(convertToJson));\n                }\n        }\n        }\n        const search = e.currentTarget.value;\n        const filteredNotes = data.filter(note => note.title.toLowerCase().includes(search.toLowerCase()));\n        this.setState({ notes: filteredNotes })\n    }\n    \n    // Sort notes in list view\n    public sortNotes = (e: React.FormEvent<HTMLSelectElement>) => {\n        const data = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            let key = localStorage.key(i)\n            if(key){\n                // deencrypt item\n                let decrypt = localStorage.getItem(key)\n                if(decrypt){\n                const convertToJson = atob(decrypt);\n                data.push(JSON.parse(convertToJson));\n                }\n        }\n        }\n        const sort = e.currentTarget.value;\n        if (sort === 'title') {\n            const sortedNotes = data.sort((a, b) => a.title.localeCompare(b.title));\n            this.setState({ notes: sortedNotes })\n        } \n    }\n\n    // Filter notes in list view\n    public filterNotes = (e: React.FormEvent<HTMLSelectElement>) => {\n        const data = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            let key = localStorage.key(i)\n            if(key){\n                // deencrypt item\n                let decrypt = localStorage.getItem(key)\n                if(decrypt){\n                const convertToJson = atob(decrypt);\n                data.push(JSON.parse(convertToJson));\n                }\n        }\n        }\n        const filter = e.currentTarget.value;\n        if (filter === 'title') {\n            const filteredNotes = data.filter(note => note.title);\n            this.setState({ notes: filteredNotes })\n        } else if (filter === 'description') {\n            const filteredNotes = data.filter(note => note.description);\n            this.setState({ notes: filteredNotes })\n        }\n    }\n    //Add printable version\n    public printNote = (id: number) => {\n        const data = localStorage.getItem(id.toString());\n        if (data) {\n        const decrypt = atob(data);\n        if (decrypt) {\n            const note = JSON.parse(decrypt);\n            const doc = new jsPDF();\n            doc.text(note.title, 10, 10);\n            doc.text(note.description, 10, 20);\n            doc.autoPrint();\n            doc.output('dataurlnewwindow');\n        }\n    }\n    }\n\n\n    public render() {\n        const notes = this.state.notes;\n        return (\n            <div>\n                {notes.length === 0 && (\n                    <div className=\"text-center\">\n                        <h2>No note found at the moment</h2>\n                    </div>\n                )}\n\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <div className=\"form-group\">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Search notes\" onChange={this.searchNotes} />\n                            </div>\n                        </div>\n                        <div className=\"col-md-12\">\n                            <div className=\"form-group\">\n                                <select className=\"form-control\" onChange={this.sortNotes}>\n                                    <option value=\"\">Sort by</option>\n                                    <option value=\"title\">Title</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"col-md-12\">\n                            <div className=\"form-group\">\n                                <select className=\"form-control\" onChange={this.filterNotes}>\n                                    <option value=\"\">Filter by</option>\n                                    <option value=\"title\">Title</option>\n                                    <option value=\"description\">Description</option>\n                                </select>\n                            </div>\n                        </div>\n                        <table className=\"table table-bordered\">\n                        <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => this.exportAllNotes()}>Export All Note</button>\n                            <thead className=\"thead-light\">\n                                <tr>\n                                    <th scope=\"col\">Tile</th>\n                                    <th scope=\"col\">Description</th>\n                                    <th scope=\"col\">Created At</th>\n                                    <th scope=\"col\">Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {notes && notes.map(note =>\n                                    <tr key={note.id}>\n                                        <td>{note.title}</td>\n                                        <td>{note.description}</td>\n                                        <td>{note.created_at}</td>\n                                        <td>\n                                            <div className=\"d-flex justify-content-between align-items-center\">\n                                                <div className=\"btn-group\" style={{ marginBottom: \"20px\" }}>\n                                                    <Link to={`edit/${note.id}`} className=\"btn btn-sm btn-outline-secondary\">Edit Note </Link>\n                                                    <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => this.deleteNote(note.id)}>Delete Note</button>\n                                                    <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => this.downloadPDF(note.id)}>Download Note</button>\n                                                    <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => this.exportNote(note.id)}>Export Note</button>\n                                                    <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => this.printNote(note.id)}>Print Note</button>\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                )}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}